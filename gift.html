<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Surprise Birthday Gift</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">


  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>

@media (max-width: 720px) {
  #gift4Detail {
    padding-top: 60px !important;   /* pushes title fully into view */
  }

  #gift4Detail .paper-text {
    font-size: 34px !important;     /* optional: slightly smaller so it fits cleanly */
  }
}

@media (max-width: 380px) {
  #gift4Detail {
    padding-top: 75px !important;
  }
  #gift4Detail .paper-text {
    font-size: 30px !important;
  }
}


    :root{--bg:#fffefb;--card:#fff;--accent:#ff6b6b;--muted:#666;}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
    body{background:linear-gradient(180deg,#fff,#f7fff7);display:flex;align-items:center;justify-content:center;padding:20px;}
    .wrap{width:980px;max-width:98%;background:var(--card);border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,0.08);overflow:hidden;}
    header{padding:28px;border-bottom:1px solid rgba(0,0,0,0.04);}
    h1{margin:0;font-size:30px;font-weight:800;color:#000;}
    .center{padding:34px;text-align:center;}
    .bold-black{font-weight:900;color:#000;font-size:30px;margin-bottom:18px;}
    img.cat{max-width:360px;width:70%;height:auto;border-radius:10px;margin:12px 0;display:block;margin-left:auto;margin-right:auto;}
    .buttons{display:flex;gap:14px;justify-content:center;margin-top:18px;flex-wrap:wrap;}
    button.btn{background:var(--accent);border:0;color:#fff;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(255,107,129,0.16);}
    button.btn.alt{background:#e0e0e0;color:#111}
    .hidden{display:none!important}
    .overlay{padding:30px;text-align:center;}
    .small-note{color:var(--muted);margin-top:8px;font-size:15px}
    .gifts{display:flex;gap:12px;justify-content:center;padding:22px;flex-wrap:wrap}
    .gift-card{width:28%;min-width:180px;background:#fff;border-radius:10px;padding:12px;text-align:center;cursor:pointer;box-shadow:0 6px 18px rgba(16,16,16,0.06)}
    .gift-card img{max-width:100%;height:140px;object-fit:cover;border-radius:8px}
    .controls-bottom{display:flex;justify-content:center;padding:18px;border-top:1px solid rgba(0,0,0,0.04);gap:12px}
    .back-btn{background:#f0f0f0;color:#111;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
    .detail{padding:26px;text-align:center}
    .paper-text{font-family:'Playfair Display', serif;font-size:46px;color:#3b2b2b;margin:12px 0}
    .polaroid{width:260px;margin:14px auto;background:#fff;padding:12px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.08);}
    .polaroid img{width:100%;height:180px;object-fit:cover;border-radius:6px}
    .quote{font-family:'Indie Flower', cursive;font-size:20px;margin-top:12px;color:#222}
    .cd-wrap{display:flex;align-items:center;flex-direction:column;gap:14px}
    .cd{width:180px;height:180px;border-radius:50%;display:grid;place-items:center;background:radial-gradient(circle at 30% 30%, #ddd,#bbb);box-shadow:0 10px 30px rgba(0,0,0,0.08);}
    .cd img{width:75%;height:75%;object-fit:contain;border-radius:50%}
    .spin{animation:spin 6s linear infinite}
    @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    /* make video responsive */
    .video-wrap{width:100%;max-width:760px;margin-top:14px}
    .video-wrap video{width:100%;height:auto;border-radius:12px;background:#fff;display:block}
  </style>
</head>

<body>

  <div class="wrap" id="app">

    <!-- FIRST PAGE -->
    <header id="page1">
      <div class="center">
        <div class="bold-black">
  <span style="color:#ff6b6b; font-weight:900;">Here is your gift!!</span><br>
  Say thank you later ğŸ˜Œâœ¨
</div>


        <img id="catImage1" class="cat"
src="https://i.pinimg.com/736x/09/9f/30/099f30285d042599035d5bb3f4ca34c3.jpg"
alt="cat image">

        <div class="buttons">
          <button class="btn" id="openGiftBtn">Open my gift</button>
          <button class="btn alt" id="dontNeedBtn">I don't need gift</button>
        </div>
      </div>
    </header>

    <!-- I DON'T NEED -->
    <section id="pageTry" class="overlay hidden">
      <div class="center">
        <div class="bold-black">
  <span style="color:#ff6b6b; font-weight:900;">Aiyo madam!..</span> I already made the giftğŸ¥²ğŸ˜…
</div>


        <img id="catImage2" class="cat"
src="https://i.pinimg.com/736x/07/34/8e/07348ec4f1163dc218b4b0fe1995b90d.jpg"
alt="cat image">

        
        <div class="buttons">
          <button class="btn" id="tryAgainBtn">Try again</button>
        </div>
      </div>
    </section>

    <!-- GIFTS PAGE -->
    <section id="giftsPage" class="hidden">
      <div class="center">
        <div class="bold-black">
  <span style="color:#ff6b6b; font-weight:900;">Ta-da!.. Your gift is here!</span> ğŸğŸ˜„
</div>

        <div class="gifts">
          <div class="gift-card" id="gift1">
            <img src="https://i.pinimg.com/474x/f3/5b/11/f35b11e7af38bfb48b89ba7dfab6b533.jpg" alt="gift 1">
          </div>

          <div class="gift-card" id="gift2">
            <img src="https://i.pinimg.com/474x/f3/5b/11/f35b11e7af38bfb48b89ba7dfab6b533.jpg" alt="gift 2">
          </div>

          <div class="gift-card" id="gift3">
            <img src="https://i.pinimg.com/474x/f3/5b/11/f35b11e7af38bfb48b89ba7dfab6b533.jpg" alt="gift 3">
          </div>

          <!-- NEW: hidden 4th gift that appears after the other 3 are opened -->
          <div class="gift-card hidden" id="gift4">
  <img src="https://i.pinimg.com/736x/52/5a/25/525a256bd065ddffe5bcc3a72121e245.jpg" alt="gift 4">
</div>
        </div>
      </div>

      <div class="controls-bottom">
        <button class="back-btn" id="backToStartFromGifts">Back</button>
      </div>
    </section>

    <!-- GIFT 1 -->
    <section id="gift1Detail" class="hidden detail">
      <div class="paper-text">Happy Birthday Vinsi!!</div>
      <div style="font-size:18px;color:#444">Just wrapped up Season 21!<br>
  Season 22 unlockedâ€¦ may all your problems stay trapped in the Upside DownğŸ‚âœ¨ğŸ˜„</div>
      <div style="margin-top:18px">
        <button class="back-btn" id="backToGifts1">Back to gifts</button>
      </div>
    </section>

    <!-- GIFT 2 -->
    <section id="gift2Detail" class="hidden detail">
      <div class="polaroid">
        <img id="polaroidImg" src="gift2.jpg" alt="polaroid">
      </div>
      <div class="quote">One, two, threeâ€¦ smile!</div>
      <div class="quote" style="margin-top:6px;font-size:16px">
        And who knowsâ€¦ maybe one day youâ€™ll chase that childhood dream again, Shutterbug âœ¨ğŸ“¸
      </div>
      <div style="margin-top:18px">
        <button class="back-btn" id="backToGifts2">Back to gifts</button>
      </div>
    </section>

    <!-- GIFT 3 -->
    <section id="gift3Detail" class="hidden detail">
      <div class="cd-wrap">
        <!-- CD inner uses final.jpg -->
        <div id="cd" class="cd"><img id="cdInner" src="final.jpg" alt="cd image"></div>

        <div style="max-width:760px;text-align:center;margin-top:8px;
            font-family:'Montserrat', sans-serif; font-size:18px;">
If Vecna catches you, Iâ€™ll save you with your fav songâ€¦ <br>
donâ€™t worry, Spotify Premium pottacchum unna save panren!!!ğŸ˜‚ğŸ˜ŒğŸ§
</div>




        <!-- video area (replaces play button) -->
        <div class="video-wrap">
          <video id="video3" src="video3.mp4" playsinline controls></video>
        </div>

        <div style="margin-top:12px">
          <button class="back-btn" id="backToGifts3">Back to gifts</button>
        </div>
      </div>
    </section>

    <!-- GIFT 4 (NEW: HISB - timeline = 12/12/2020) -->
    <section id="gift4Detail" class="hidden detail" style="padding-top:60px;">

      <div class="paper-text">Timeline â€“ 12/12/2020</div>

<!-- Nostalgic line -->
<div style="font-family:'Indie Flower', cursive; font-size:26px; color:#444; margin-bottom:12px;">
  Summa drive la backup chats ah pakkum pothu ithu kedachithu ğŸ˜…<br>
  <span style="font-size:30px; color:#ff6b6b; font-weight:900;">Nostalgic âœ¨ğŸ˜…</span>
</div>

<!-- Main content -->
<div style="font-size:18px; color:#444; font-family:'Montserrat', sans-serif; line-height:1.6; max-width:760px; margin:0 auto;">

  I think you sent these messages to rojaâ€¦<br><br>

  <b>[12/12/2020]</b> You: <i>Convey my wishes oiiğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ¥³ğŸ‚ğŸ‚ğŸ‚ğŸ‚ğŸ‚ğŸ˜</i><br><br>

  When roja sent me this, I think I asked for a treat ğŸ˜…<br><br>

  <b>[12/12/2020]</b> You: <i>Kandippah vaangi tharen... sollu ğŸ¥³ğŸ¥³ğŸ¥³ğŸ˜‚</i><br>
  <b>[12/12/2020]</b> You: <i>Enakkum vaangi thara sollu paâ€¦ unga machanaâ€¦</i><br>
  <b>[12/12/2020]</b> You: <i>Enakkum treat venum ğŸ˜„</i><br><br>

  <b>[13/12/2020]</b> You:  
  <i>Haapy haapy bday pugal... stay awesome forever...ğŸ’¯ varsam santhosama iruu...  
  Njoy ur special day... nd once again happy born day ğŸ¥³ğŸ¥³ğŸ˜ğŸ˜ğŸ¤©ğŸ’¥</i><br><br>

  <b>[13/12/2020, 7:57 AM] You:</b> <i>Convey panniruâ€¦ oii ğŸ˜˜</i><br><br>

  <div style="font-family:'Indie Flower', cursive; font-size:22px; margin-top:10px;">
    (Summa nostalgic ah irunthuchunu add pannan ğŸ˜…ğŸ˜…)
  </div>

  <br>

  <div style="font-family:'Montserrat', sans-serif; font-size:20px; margin-top:10px; font-weight:600; color:#333;">
    And once againâ€¦ Happy Birthday!  
    And whereâ€™s my treat & gift? ğŸ«£ğŸ˜…ğŸ˜‚
  </div>

</div>
  <!-- BACK BUTTON -->
  <div style="margin-top:18px;">
    <button class="back-btn" id="backToGifts4">Back to gifts</button>
  </div>

</section>


  <!-- AUDIO (kept as-is) -->
  <audio id="audio1" preload="auto" src="song1.mp3"></audio>
  <audio id="audio2" preload="auto" src="song2.mp3"></audio>
  <audio id="audio3" src="SONG3_PATH"></audio>
<audio id="audio4" preload="auto" src="gift4.mp3"></audio>


  <script>
    // get elements
    const page1 = document.getElementById('page1');
    const pageTry = document.getElementById('pageTry');
    const giftsPage = document.getElementById('giftsPage');
    const gift1Detail = document.getElementById('gift1Detail');
    const gift2Detail = document.getElementById('gift2Detail');
    const gift3Detail = document.getElementById('gift3Detail');

    // simple helpers
    function show(node){ node.classList.remove('hidden'); }
    function hide(node){ node.classList.add('hidden'); }

    // wire basic buttons (direct)
    document.getElementById('dontNeedBtn').addEventListener('click', ()=>{
      hide(page1); show(pageTry);
    });
    document.getElementById('tryAgainBtn').addEventListener('click', ()=>{
      hide(pageTry); show(page1);
    });
    document.getElementById('openGiftBtn').addEventListener('click', ()=>{
      hide(page1); show(giftsPage);
    });
    document.getElementById('backToStartFromGifts').addEventListener('click', ()=>{
      hide(giftsPage); show(page1);
    });

    // delegated click handler (more reliable)
    document.addEventListener('click', function(e){
      // Gift 1 open
      if (e.target.closest('#gift1')) {
        hide(giftsPage); show(gift1Detail);
        const audio = document.getElementById('audio1');
        if (audio){ audio.pause(); audio.currentTime = 0; audio.play().catch(()=>{}); }
        // stop other audios/videos
        const a2 = document.getElementById('audio2'); if(a2){ a2.pause(); a2.currentTime = 0; }
        const vid3 = document.getElementById('video3'); if(vid3){ vid3.pause(); vid3.currentTime = 0; document.getElementById('cd').classList.remove('spin'); }
        return;
      }

      // Gift 2 open
      if (e.target.closest('#gift2')) {
        hide(giftsPage); show(gift2Detail);
        // stop others and play audio2
        const a1 = document.getElementById('audio1'); if(a1){ a1.pause(); a1.currentTime = 0; }
        const vid3b = document.getElementById('video3'); if(vid3b){ vid3b.pause(); vid3b.currentTime = 0; document.getElementById('cd').classList.remove('spin'); }
        const a2 = document.getElementById('audio2');
        if(a2){ a2.currentTime = 0; a2.play().catch(()=>{}); }
        return;
      }

      // Gift 3 open: start video and spin cd
      if (e.target.closest('#gift3')) {
        hide(giftsPage); show(gift3Detail);
        // stop other audios
        const a1b = document.getElementById('audio1'); if(a1b){ a1b.pause(); a1b.currentTime = 0; }
        const a2b = document.getElementById('audio2'); if(a2b){ a2b.pause(); a2b.currentTime = 0; }
        // play video
        const vid = document.getElementById('video3');
        if(vid){
          vid.currentTime = 0;
          vid.play().then(()=>{ 
            // start cd spin when video actually plays
            document.getElementById('cd').classList.add('spin');
          }).catch(()=>{ 
            // play blocked â€” still add spin so user sees animation and can press play
            document.getElementById('cd').classList.add('spin');
          });
          vid.onended = ()=>{ document.getElementById('cd').classList.remove('spin'); }
        } else {
          // fallback: just spin cd
          document.getElementById('cd').classList.add('spin');
        }
        return;
      }

// Gift 4 open
if (e.target.closest('#gift4')) {
  hide(giftsPage); 
  show(document.getElementById('gift4Detail'));

  // stop all other audios
  const a1 = document.getElementById('audio1'); if(a1){ a1.pause(); a1.currentTime = 0; }
  const a2 = document.getElementById('audio2'); if(a2){ a2.pause(); a2.currentTime = 0; }
  const vid3 = document.getElementById('video3'); if(vid3){ vid3.pause(); vid3.currentTime = 0; document.getElementById('cd').classList.remove('spin'); }

  // play gift4 audio
  const a4 = document.getElementById('audio4');
  if(a4){ a4.currentTime = 0; a4.play().catch(()=>{}); }

  return;
}


      // Back from Gift1
      if (e.target.closest('#backToGifts1')) {
        const a = document.getElementById('audio1');
        if (a){ a.pause(); a.currentTime = 0; }
        hide(gift1Detail); show(giftsPage);
        return;
      }

      // Back from Gift2
      if (e.target.closest('#backToGifts2')) {
        const a2 = document.getElementById('audio2');
        if (a2){ a2.pause(); a2.currentTime = 0; }
        hide(gift2Detail); show(giftsPage);
        return;
      }

// Back from Gift4
if (e.target.closest('#backToGifts4')) {
  const a4 = document.getElementById('audio4');
  if(a4){ a4.pause(); a4.currentTime = 0; }

  hide(document.getElementById('gift4Detail'));
  show(giftsPage);
  return;
}

      // Back from Gift3
      if (e.target.closest('#backToGifts3')) {
        const vid = document.getElementById('video3');
        if (vid){ vid.pause(); vid.currentTime = 0; }
        document.getElementById('cd').classList.remove('spin');
        hide(gift3Detail); show(giftsPage);
        return;
      }

    });

    // prevent accidental autoplay on load
    window.addEventListener('load', ()=>{
      const a = document.getElementById('audio1');
      if (a){ a.pause(); a.currentTime = 0; }
      const a2 = document.getElementById('audio2');
      if (a2){ a2.pause(); a2.currentTime = 0; }
      const vid = document.getElementById('video3');
      if(vid){ vid.pause(); vid.currentTime = 0; }
    });

    // --- NEW: track opened status and reveal gift4 without editing existing handlers ---
    (function(){
      const openedGifts = new Set();

      function revealGift4IfReady(){
        if (openedGifts.size === 3) {
          const gift4Card = document.getElementById('gift4');
          const gift4Detail = document.getElementById('gift4Detail');
          // show card in gifts list
          if (gift4Card) gift4Card.classList.remove('hidden');

          // auto-open the detail after a short delay (only if giftsPage is visible)
          setTimeout(()=> {
            const giftsPageLocal = document.getElementById('giftsPage');
            if (!giftsPageLocal) return;
            if (!giftsPageLocal.classList.contains('hidden') && gift4Detail) {
              // use existing helper functions (show/hide) which are in your script scope
              try {
                hide(giftsPageLocal);
                show(gift4Detail);
              } catch (e) {
                // if helpers are not in scope for any reason, fallback:
                giftsPageLocal.classList.add('hidden');
                gift4Detail.classList.remove('hidden');
              }
            }
          }, 700);
        }
      }

      // add listeners to mark gift1/2/3 opened (works in any order) without touching existing handlers
      const g1 = document.getElementById('gift1');
      const g2 = document.getElementById('gift2');
      const g3 = document.getElementById('gift3');

      if (g1) g1.addEventListener('click', ()=>{ openedGifts.add('gift1'); revealGift4IfReady(); });
      if (g2) g2.addEventListener('click', ()=>{ openedGifts.add('gift2'); revealGift4IfReady(); });
      if (g3) g3.addEventListener('click', ()=>{ openedGifts.add('gift3'); revealGift4IfReady(); });

      // clicking the newly revealed gift should open its detail
      const gift4Card = document.getElementById('gift4');
      const gift4Detail = document.getElementById('gift4Detail');
      const giftsPageRef = document.getElementById('giftsPage');

      if (gift4Card && gift4Detail) {
        gift4Card.addEventListener('click', ()=> {
          // stop any playing media (mimic pattern from your other handlers)
          const a1 = document.getElementById('audio1'); if(a1){ a1.pause(); a1.currentTime = 0; }
          const a2 = document.getElementById('audio2'); if(a2){ a2.pause(); a2.currentTime = 0; }
          const vid3 = document.getElementById('video3'); if(vid3){ vid3.pause(); vid3.currentTime = 0; document.getElementById('cd')?.classList.remove('spin'); }

          try {
            hide(giftsPageRef);
            show(gift4Detail);
          } catch (e) {
            giftsPageRef.classList.add('hidden');
            gift4Detail.classList.remove('hidden');
          }
        });
      }

      // Back button for gift4 (delegated listener â€” safe to add even if you already have one)
      document.addEventListener('click', function(e){
        if (e.target.closest && e.target.closest('#backToGifts4')) {
          // hide gift4 detail and show gifts page
          const g4d = document.getElementById('gift4Detail');
          const gp = document.getElementById('giftsPage');
          if (g4d) g4d.classList.add('hidden');
          if (gp) gp.classList.remove('hidden');
        }
      });
    })();
  </script>

</body>
</html>







